<!DOCTYPE html>
<html lang="en">
<head>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500&display=swap" rel="stylesheet">
    <link href="styles.css" rel="stylesheet">
    <title>Trivia!</title>
    <script>
        document.addEventListener('DOMContentLoaded', function() {

            // Function to handle answer button click events

            function handleAnswer(correctIndex, feedbackId, sectionId) {
                let correct = document.getElementById(sectionId).querySelector('.correct');
                let incorrects = document.getElementById(sectionId).querySelectorAll('.incorrect');

                correct.addEventListener('click', function() {
                    correct.style.backgroundColor = 'green';
                    document.querySelector(feedbackId).innerHTML = 'Correct!';
                });

                for (let i = 0; i < incorrects.length; i++) {
                    incorrects[i].addEventListener('click', function() {
                        incorrects[i].style.backgroundColor = 'red';
                        document.querySelector(feedbackId).innerHTML = 'Incorrect';
                    });
                }
            }

            // Call the function for each question
            handleAnswer(0, '#feedback1', 'section1');
            handleAnswer(1, '#feedback3', 'section3');
        });

        // handle frq
        function check(event, correctAnswer) {
            let userAnswer = document.querySelector('#answer').value.trim().toLowerCase();

            if (userAnswer === correctAnswer) {
                document.querySelector('#answer').style.backgroundColor = 'green';
                document.querySelector('#feedback2').innerHTML = 'Correct!';
            } else {
                document.querySelector('#answer').style.backgroundColor = 'red';
                document.querySelector('#feedback2').innerHTML = 'Incorrect';
            }

            event.preventDefault(); // prevent form submission
        }
    </script>
</head>
<body>
    <div class="header">
        <h1>Trivia!</h1>
    </div>

    <div class="container">
        <div class="section" id="section1">
            <h2>Part 1: Multiple Choice</h2>

            <hr>

            <h3>What occasion corresponds to the longest day of the year?</h3>
            <button class="correct">summer solstice</button>
            <button class="incorrect">vernal equinox</button>
            <button class="incorrect">winter solstice</button>
            <p id="feedback1"></p>
        </div>

        <div class="section" id="section2">
            <h2>Part 2: Free Response</h2>

            <hr>

            <h3>What is the only food that can never go bad?</h3>
            <form onsubmit="check(event, 'honey'); return false;">
                <input autocomplete="off" autofocus id="answer" placeholder="Type your answer here" type="text">
                <button type="submit">Enter</button>
                <p id="feedback2"></p>
            </form>
        </div>

        <div class="section" id="section3">
            <h2>Additional Multiple Choice Question</h2>

            <hr>

            <h3>What was Taylor Swift's first song to chart on the Billboard Hot 100?</h3>

            <button class="incorrect">Love Story</button>
            <button class="incorrect">You Belong with Me</button>
            <button class="correct">Tim McGraw</button>

            <p id="feedback3"></p>
        </div>
    </div>
</body>
</html>
